(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[420],{1936:function(e,t,n){Promise.resolve().then(n.bind(n,1397))},1397:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(7437),s=n(4849),r=n(5430),l=n(2752),i=n(7449),c=n.n(i);let o=(0,r.Pi)(s.y);function d(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c(),{children:(0,a.jsx)("title",{children:"Report"})}),(0,a.jsx)(o,{report:l.Hj}),(0,a.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-between p-24",children:(0,a.jsx)("h1",{children:"2024"})})]})}},4849:function(e,t,n){"use strict";n.d(t,{y:function(){return R}});var a=n(7437),s=n(2752),r=n(9551),l=n(9523),i=n(8161),c=n(3403),o=n(7817),d=n(8924),u=n(1469),x=n(764),m=n(1942),j=n(2265),h=n(5211),p=n(7346);h.kL.register(h.uw,h.f$,h.ZL,h.Dx,h.u,h.De);let f={plugins:{title:{display:!0,text:"PBFT交易池统计结果 - 柱状图"}},responsive:!0,interaction:{mode:"index",intersect:!1},scales:{x:{stacked:!0},y:{stacked:!0}}},v=e=>{let{report:t}=e,{pbftShardCsv:n}=t.val,s={labels:n.map((e,t)=>"Round ".concat(t+1)),datasets:[{label:"交易池大小",data:n.map(e=>e.txpool_size),backgroundColor:"rgb(255, 99, 132)",stack:"Stack 0"},{label:"交易计数",data:n.map(e=>e.tx),backgroundColor:"rgb(75, 192, 192)",stack:"Stack 1"}]};return(0,a.jsx)(p.$Q,{options:f,data:s})};var k=n(1083);let{Title:g,Paragraph:b,Text:y,Link:C}=r.default,N=()=>(console.log(s.Hj),(0,a.jsx)(a.Fragment,{})),F=[{title:"测度名",dataIndex:"name",key:"name"},{title:"测度值",dataIndex:"vals",key:"vals"}],Z=[{title:"轮数",dataIndex:"round",key:"round"},{title:"txpool大小",dataIndex:"txpool_size",key:"txpool_size"},{title:"tx计数",dataIndex:"tx",key:"tx"}],_=e=>e.map((e,t)=>{let{name:n,desc:s,vals:r}=e;return{name:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("b",{className:"m-4",children:n}),(0,a.jsxs)(l.Z,{placement:"right",title:s,children:[(0,a.jsx)(k.Z,{className:"text-lg"}),"  "]})]}),vals:(0,a.jsx)(a.Fragment,{children:r.map(e=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.Z,{children:e.toFixed(2)})}))}),key:t}}),I=j.createContext({name:"Default"}),R=e=>{let{report:t}=e;var n=t.val.pbftShardCsv.map((e,t)=>{let{txpool_size:n,tx:a,ctx:s}=e;return{round:t+1,txpool_size:n,tx:a}});let s=[{key:"1",label:"表格视图",children:(0,a.jsx)(c.Z,{dataSource:n,columns:Z}),icon:(0,a.jsx)(x.Z,{})},{key:"2",label:"柱状图视图",children:(0,a.jsx)(v,{report:t}),icon:(0,a.jsx)(m.Z,{})}],[l,i]=o.ZP.useNotification(),h=e=>{l.info({message:e,description:(0,a.jsx)(I.Consumer,{children:e=>{let{name:t}=e;return"Hello, ".concat(t,"!")}}),placement:"bottomRight"})},p=(0,j.useMemo)(()=>({name:"Ant Design"}),[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-row-reverse",children:(0,a.jsx)(d.ZP,{className:"mr-12",type:"primary",onClick:()=>{var e,n;e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t.val)),(n=document.createElement("a")).setAttribute("href",e),n.setAttribute("download","report.json"),document.body.appendChild(n),n.click(),n.remove()},children:"导出并下载json"})}),(0,a.jsx)("div",{className:"font-bold",children:"PBFT交易池统计结果："}),(0,a.jsxs)(I.Provider,{value:p,children:[i,(0,a.jsx)(u.Z,{defaultActiveKey:"1",items:s,centered:!0,onChange:e=>{h("切换到面板".concat(e))}}),";"]}),(0,a.jsx)("hr",{className:"my-12"}),(0,a.jsx)("div",{className:"font-bold",children:"测度输出"}),N(),(0,a.jsx)(c.Z,{dataSource:_(t.val.measureOutputs),columns:F}),(0,a.jsx)(r.default,{children:(0,a.jsxs)(b,{children:[(0,a.jsx)("blockquote",{children:"原始输出"}),(0,a.jsx)("pre",{children:JSON.stringify(t.val.measureOutputs)})]})})]})}},2752:function(e,t,n){"use strict";n.d(t,{Hj:function(){return c},YD:function(){return i},i7:function(){return l},qb:function(){return s}});var a,s,r=n(305);(a=s||(s={}))[a.Init=0]="Init",a[a.Connected=1]="Connected",a[a.ConnectionFailed=2]="ConnectionFailed",a[a.Running=3]="Running",a[a.RunningFailed=4]="RunningFailed",a[a.Completed=5]="Completed",a[a.Disconnected=6]="Disconnected";let l=(0,r.ky)({val:0}),i=(0,r.ky)({val:{count:0,total:0}}),c=(0,r.ky)({val:{pbftShardCsv:[],measureOutputs:[]}})}},function(e){e.O(0,[674,147,710,60,924,135,971,23,744],function(){return e(e.s=1936)}),_N_E=e.O()}]);